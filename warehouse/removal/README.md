# Removal 模块

## 描述
`Removal` 模块用于管理商品从仓库下架的操作记录，包括移除的商品、库位、数量及原因等信息。

---

## 数据结构

### Removal Record

| 字段名称          | 英文名称         | 数据类型   | 描述                                     |
|-------------------|------------------|------------|------------------------------------------|
| ID               | `id`            | Integer    | 下架记录的唯一标识。                     |
| 商品 ID           | `goods_id`      | Integer    | 关联的商品 ID。                          |
| 库位 ID           | `location_id`   | Integer    | 关联的库位 ID。                          |
| 数量             | `quantity`      | Integer    | 本次下架的商品数量。                     |
| 操作员 ID         | `operator_id`   | Integer    | 进行下架操作的用户 ID。                  |
| 下架时间          | `removal_time`  | DateTime   | 下架操作发生的时间。                     |
| 原因             | `reason`        | String     | 下架的原因（如退货、损坏、调拨等）。     |
| 备注             | `remark`         | String     | 对下架操作的补充说明。                   |

---

## API 列表

### 获取所有下架记录
**Endpoint**: `GET /removal/`

- **描述**: 获取所有下架记录，支持分页。
- **权限**: 需要登录。
- **分页参数**:
  - `page`: 页码。
  - `per_page`: 每页显示的记录数量。

### 创建新下架记录
**Endpoint**: `POST /removal/`

- **描述**: 创建一条新的下架记录。
- **权限**: 需要 `admin` 和 `settings` 权限。

### 获取下架记录详情
**Endpoint**: `GET /removal/<record_id>`

- **描述**: 获取指定下架记录的详情。
- **权限**: 需要 `admin` 和 `settings` 权限。

### 更新下架记录
**Endpoint**: `PUT /removal/<record_id>`

- **描述**: 更新指定的下架记录。
- **权限**: 需要 `admin` 和 `settings` 权限。

### 删除下架记录
**Endpoint**: `DELETE /removal/<record_id>`

- **描述**: 删除指定的下架记录。
- **权限**: 需要 `admin` 和 `settings` 权限。

---

## 模块设计特点
- **操作可追溯**:
  - 所有下架记录与商品、库位和操作员相关联，确保操作可追溯。
- **原因分类**:
  - 使用 `reason` 字段明确标注下架原因（如损坏、退货、调拨等）。
- **分页支持**:
  - 提供分页接口，支持大数据量的高效查询。

---

## 使用场景
1. **商品退货**: 记录从仓库下架退还给供应商的商品。
2. **商品损坏**: 记录下架的损坏商品，便于后续报废处理。
3. **库存调拨**: 记录从当前库位下架后，转移到其他库位的商品。
